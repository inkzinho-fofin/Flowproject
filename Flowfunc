local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Configurações de Mensagens
local frases = {
	"Sabia que a ideia principal era apenas executor?",
	"60% dos devs não ajudaram a produzir isto",
	"Melhor dono é o.... Ink!!! ❤️",
	"Café?... Por que café?",
	"Só o Ink para se entender",
	"Sabia que é possível conseguir o flow-blox gratuitamente?, sendo amigo do criador",
	"Eai dev!!",
	"Sabia que o dev é brasileiro?",
	"Sabia que este Script não expira?",
	"Sabia que a ideia inicial era sobre súcubos?",
	"Apenas 2 iniciaram este projeto, sim... Vc mesmo VT",
	"Vt melhior q ritle"
}

-- Criando a Interface
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FlowBloxLoading"
screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(1, 0, 1, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

local title = Instance.new("TextLabel")
title.Text = "FLOW-BLOX TRAP"
title.Size = UDim2.new(0, 400, 0, 50)
title.Position = UDim2.new(0.5, -200, 0.3, 0)
title.Font = Enum.Font.GothamBold
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 40
title.BackgroundTransparency = 1
title.Parent = mainFrame

local statusLabel = Instance.new("TextLabel")
statusLabel.Text = "Iniciando..."
statusLabel.Size = UDim2.new(0, 600, 0, 30)
statusLabel.Position = UDim2.new(0.5, -300, 0.45, 0)
statusLabel.Font = Enum.Font.GothamMedium
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
statusLabel.TextSize = 18
statusLabel.BackgroundTransparency = 1
statusLabel.Parent = mainFrame

-- Barra de Carregamento
local barBackground = Instance.new("Frame")
barBackground.Size = UDim2.new(0, 300, 0, 10)
barBackground.Position = UDim2.new(0.5, -150, 0.55, 0)
barBackground.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
barBackground.BorderSizePixel = 0
barBackground.Parent = mainFrame

local barFill = Instance.new("Frame")
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = Color3.fromRGB(0, 255, 150) -- Cor inicial
barFill.BorderSizePixel = 0
barFill.Parent = barBackground

-- Função de Efeito de Digitação
local function typeWrite(label, text)
	for i = 1, #text do
		label.Text = string.sub(text, 1, i)
		task.wait(0.03)
	end
end

-- Lógica de Execução
task.spawn(function()
	local tempoTotal = 10
	local passos = 4 -- Quantas frases mostrar
	
	for i = 1, passos do
		local fraseAleatoria = frases[math.random(1, #frases)]
		typeWrite(statusLabel, fraseAleatoria)
		
		-- Tween da barra
		TweenService:Create(barFill, TweenInfo.new(tempoTotal/passos, Enum.EasingStyle.Linear), {
			Size = UDim2.new(i/passos, 0, 1, 0),
			BackgroundColor3 = Color3.fromHSV(tick() % 1, 0.7, 1) -- Efeito arco-íris enquanto carrega
		}):Play()
		
		task.wait(tempoTotal/passos)
	end
	
	-- Mensagem Final
	statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
	statusLabel.Text = "Executado com segurança para melhorar sua experiência"
	task.wait(2)
	
	-- Chama a função de otimização de FPS (aquela do script anterior)
	if _G.OtimizarFPS then _G.OtimizarFPS() end
	
	-- Fecha a tela com animação
	TweenService:Create(mainFrame, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
	TweenService:Create(title, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
	TweenService:Create(statusLabel, TweenInfo.new(0.5), {TextTransparency = 1}):Play()
	task.wait(1)
	screenGui:Destroy()
end)

--- [Aqui entra a lógica de otimização que discutimos antes] ---
_G.OtimizarFPS = function()
	local Workspace = game:GetService("Workspace")
	local Lighting = game:GetService("Lighting")

	Lighting.GlobalShadows = false
	for _, obj in pairs(Workspace:GetDescendants()) do
		if obj:IsA("BasePart") then
			obj.Material = Enum.Material.SmoothPlastic
			obj.CastShadow = false
		end
	end
	-- Adicione aqui o restante das otimizações do script anterior se desejar
end
